(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,i){var s=i(53);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(32).default)("7571712e",s,!0,{})},34:function(e,t,i){var s=i(55);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(32).default)("5812e1b6",s,!0,{})},45:function(e){e.exports=JSON.parse('{"name":"ssb_sketch","display":"SSB sketch","version":"0.1.0","description":"Simple canvas for shape prototyping as PWA.","keywords":["ssb","sketch","canvas","shape","pwa"],"author":"Christoph \'Youka\' Spanknebel","license":"Apache-2.0","homepage":"https://github.com/substation-beta","bugs":"https://github.com/substation-beta/ssb_sketch/issues","repository":"github:substation-beta/ssb_sketch","private":true,"engines":{"node":">=10","npm":">=6"},"browser":"window","scripts":{"build":"webpack -p","dev":"webpack-dev-server --open --hot","lint":"eslint --ext .js,.vue src webpack.config.js","test":"jest --coverage src/"},"dependencies":{"bootstrap":"^4.4.1","bootstrap-vue":"^2.12.0","vue":"^2.6.11","vue-i18n":"^8.17.3","vue-unique-id":"^3.1.0","vuex":"^3.2.0","vuex-map-fields":"^1.4.0","vuex-persistedstate":"^3.0.1"},"devDependencies":{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","babel-eslint":"^10.1.0","babel-loader":"^8.1.0","clean-webpack-plugin":"^3.0.0","compression-webpack-plugin":"^3.1.0","css-loader":"^3.5.2","eslint":"^6.8.0","eslint-config-standard":"^14.1.1","eslint-plugin-import":"^2.20.2","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.1","eslint-plugin-vue":"^6.2.2","file-loader":"^6.0.0","html-webpack-plugin":"^4.2.0","jest":"^26.0.1","mini-css-extract-plugin":"^0.9.0","node-sass":"^4.13.1","offline-plugin":"^5.0.7","robotstxt-webpack-plugin":"^7.0.0","sass-loader":"^8.0.2","vue-loader":"^15.9.1","vue-template-compiler":"^2.6.11","webpack":"^4.43.0","webpack-cli":"^3.3.11","webpack-dev-server":"^3.10.3","webpack-pwa-manifest":"^4.2.0"}}')},48:function(e,t,i){var s=i(49);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(32).default)("704cc700",s,!0,{})},49:function(e,t,i){},50:function(e,t,i){var s=i(51);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(32).default)("251dae64",s,!0,{})},51:function(e,t,i){},52:function(e,t,i){"use strict";var s=i(33);i.n(s).a},53:function(e,t,i){},54:function(e,t,i){"use strict";var s=i(34);i.n(s).a},55:function(e,t,i){},56:function(e,t,i){"use strict";i.r(t);var s=i(9),r=i(39),a={};s.a.directive("sync",{bind:function(e,t,i){e.value=t.value,a[e]=function(){e.checkValidity()?i.context[t.expression]=t.modifiers.number?parseFloat(e.value):e.value:e.value=i.context[t.expression]},e.addEventListener("change",a[e])},unbind:function(e){e.removeEventListener("change",a[e]),delete a[e]},update:function(e,t){e.value=t.value}});var o=i(43);s.a.use(o.a);var n=i(58),l=i(64),c=i(60),p=i(62),u=i(61),d=i(63),f=i(65),v=i(59);i(48);s.a.use(n.a,{formControls:{size:"sm"},BInputGroup:{size:"sm"}}),s.a.use(l.a),s.a.use(c.a),s.a.use(p.a),s.a.use(u.a),s.a.use(d.a),s.a.use(f.a),s.a.use(v.a);var h=i(40),b=i(25),m=i(44),w=i(45);s.a.use(h.a);var g=new h.a.Store({state:{commands:"",lineWidth:1,lineCap:"round",lineJoin:"round",viewportWidth:-1,viewportHeight:100,viewportOffsetX:50,viewportOffsetY:50,lineWidthLimit:1e3,viewportOffsetLimit:9e4,viewportDimensionLimit:1e6},getters:{getField:b.a},mutations:{updateField:b.c},plugins:[Object(m.a)({key:w.name+"-store",storage:window.localStorage})]}),O=i(41);s.a.use(O.a);var y=navigator.language.split("-",1)[0];console.info("Detected browser language: "+y);var x=new O.a({locale:y,fallbackLocale:"en",messages:{en:{loaded_at:"loaded at",missing_number:"Number?",commands:"Commands",line:{title:"Line",width:"Width",cap:"Cap",join:"Join"},viewport:{title:"Viewport",size:"Size",offset:"Offset"}},de:{loaded_at:"geladen am",missing_number:"Zahl?",commands:"Befehle",line:{title:"Linie",width:"Breite",cap:"Ende",join:"Verb."},viewport:{title:"Ansicht",size:"Größe",offset:"Absatz"}}}}),_=(i(50),{computed:Object(b.b)(["commands","lineWidth","lineCap","lineJoin","viewportWidth","viewportHeight","viewportOffsetX","viewportOffsetY","lineWidthLimit","viewportOffsetLimit","viewportDimensionLimit"])}),$=(i(52),i(20)),k=Object($.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",{attrs:{fluid:""}},[i("b-row",{attrs:{"align-h":"center"}},[i("b-col",{attrs:{cols:"12",xl:""}},[i("b-form-group",{attrs:{label:e.$t("commands"),"label-for":e.$id("commands"),"label-align":"center","label-class":"font-weight-bold","label-size":"lg"}},[i("b-textarea",{attrs:{id:e.$id("commands"),lazy:"",autofocus:"",rows:"5","no-resize":""},model:{value:e.commands,callback:function(t){e.commands=t},expression:"commands"}})],1)],1),e._v(" "),i("b-col",{attrs:{cols:"auto"}},[i("b-form-group",{attrs:{label:e.$t("line.title"),"label-for":e.$id("lineWidth"),"label-align":"center","label-class":"font-weight-bold","label-size":"lg"}},[i("b-form-group",{attrs:{label:e.$t("line.width")+": ","label-for":e.$id("lineWidth"),"label-size":"sm","label-cols":"4","label-align":"right"}},[i("b-input",{directives:[{name:"sync",rawName:"v-sync.number",value:e.lineWidth,expression:"lineWidth",modifiers:{number:!0}}],attrs:{id:e.$id("lineWidth"),placeholder:e.$t("missing_number"),type:"number",required:"",min:"0",max:e.lineWidthLimit,step:"0.125"}})],1),e._v(" "),i("b-form-group",{attrs:{label:e.$t("line.cap")+": ","label-for":e.$id("lineCap"),"label-size":"sm","label-cols":"4","label-align":"right"}},[i("b-select",{attrs:{id:e.$id("lineCap"),options:["butt","round","square"]},model:{value:e.lineCap,callback:function(t){e.lineCap=t},expression:"lineCap"}})],1),e._v(" "),i("b-form-group",{attrs:{label:e.$t("line.join")+": ","label-for":e.$id("lineJoin"),"label-size":"sm","label-cols":"4","label-align":"right"}},[i("b-select",{attrs:{id:e.$id("lineJoin"),options:["bevel","round","miter"]},model:{value:e.lineJoin,callback:function(t){e.lineJoin=t},expression:"lineJoin"}})],1)],1)],1),e._v(" "),i("b-col",{attrs:{cols:"auto"}},[i("b-form-group",{attrs:{label:e.$t("viewport.title"),"label-for":e.$id("viewportHeight"),"label-align":"center","label-class":"font-weight-bold","label-size":"lg"}},[i("b-form-group",{attrs:{label:e.$t("viewport.size")+": ","label-for":e.$id("viewportHeight"),"label-size":"sm","label-cols":"3","label-align":"right"}},[i("b-input-group",[i("label",{staticClass:"sr-only",attrs:{for:e.$id("viewportWidth")}},[e._v(e._s(e.$t("viewport.size")))]),e._v(" "),i("b-input",{attrs:{id:e.$id("viewportWidth"),readonly:"",value:e.viewportWidth.toFixed(2)}}),e._v(" "),i("b-input-group-prepend",{attrs:{"is-text":""}},[e._v("X")]),e._v(" "),i("b-input",{directives:[{name:"sync",rawName:"v-sync.number",value:e.viewportHeight,expression:"viewportHeight",modifiers:{number:!0}}],attrs:{id:e.$id("viewportHeight"),placeholder:e.$t("missing_number"),required:"",type:"number",min:"1",max:e.viewportDimensionLimit,step:"1"}})],1)],1),e._v(" "),i("b-form-group",{attrs:{label:e.$t("viewport.offset")+": ","label-for":e.$id("viewportOffsetX"),"label-size":"sm","label-cols":"3","label-align":"right"}},[i("b-input-group",[i("b-input",{directives:[{name:"sync",rawName:"v-sync.number",value:e.viewportOffsetX,expression:"viewportOffsetX",modifiers:{number:!0}}],attrs:{id:e.$id("viewportOffsetX"),placeholder:e.$t("missing_number"),required:"",type:"number",min:-e.viewportOffsetLimit,max:e.viewportOffsetLimit,step:"1"}}),e._v(" "),i("b-input-group-prepend",{attrs:{"is-text":""}},[e._v("X")]),e._v(" "),i("label",{staticClass:"sr-only",attrs:{for:e.$id("viewportOffsetY")}},[e._v(e._s(e.$t("viewport.offset")))]),e._v(" "),i("b-input",{directives:[{name:"sync",rawName:"v-sync.number",value:e.viewportOffsetY,expression:"viewportOffsetY",modifiers:{number:!0}}],attrs:{id:e.$id("viewportOffsetY"),placeholder:e.$t("missing_number"),required:"",type:"number",min:-e.viewportOffsetLimit,max:e.viewportOffsetLimit,step:"1"}})],1)],1)],1)],1)],1)],1)}),[],!1,null,"7bb3ee7f",null).exports;function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(Math.max(e,t),i)}function L(e){return e<0?Math.ceil(e):Math.floor(e)}function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function W(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var R={data:function(){return{viewportRatio:null,drag:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){W(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(b.b)(["commands","lineWidth","lineCap","lineJoin","viewportWidth","viewportHeight","viewportOffsetX","viewportOffsetY","viewportOffsetLimit","viewportDimensionLimit"])),watch:{commands:z,lineWidth:z,lineCap:z,lineJoin:z,viewportHeight:function(){this.updateViewportResolution(),z.call(this)},viewportOffsetX:z,viewportOffsetY:z},mounted:function(){var e=function(){var e=this.$refs.canvas,t=e.parentNode;e.setAttribute("width",t.offsetWidth),e.setAttribute("height",t.offsetHeight),this.updateViewportResolution(),z.call(this)}.bind(this);e(),window.addEventListener("resize",e)},methods:{updateViewportResolution:function(){this.viewportRatio=this.$refs.canvas.height/this.viewportHeight,this.viewportWidth=this.$refs.canvas.width/this.viewportRatio},isolateEvent:function(e){e.preventDefault(),e.stopImmediatePropagation()},emitCursor:function(e){this.isolateEvent(e),this.$emit("cursor","pointerleave"===e.type?null:{x:(e.layerX/this.viewportRatio-this.viewportOffsetX).toFixed(2),y:(e.layerY/this.viewportRatio-this.viewportOffsetY).toFixed(2)})},startDrag:function(e){this.isolateEvent(e),this.drag={lastPosition:{x:e.layerX,y:e.layerY},moveAccum:{x:0,y:0}}},endDrag:function(){this.drag=null},updateDrag:function(e){this.drag&&(this.isolateEvent(e),this.drag.moveAccum.x+=(e.layerX-this.drag.lastPosition.x)/this.viewportRatio,Math.abs(this.drag.moveAccum.x)>=1&&(this.viewportOffsetX=C(this.viewportOffsetX+L(this.drag.moveAccum.x),-this.viewportOffsetLimit,this.viewportOffsetLimit),this.drag.moveAccum.x%=1),this.drag.moveAccum.y+=(e.layerY-this.drag.lastPosition.y)/this.viewportRatio,Math.abs(this.drag.moveAccum.y)>=1&&(this.viewportOffsetY=C(this.viewportOffsetY+L(this.drag.moveAccum.y),-this.viewportOffsetLimit,this.viewportOffsetLimit),this.drag.moveAccum.y%=1),this.drag.lastPosition={x:e.layerX,y:e.layerY})},zoomView:function(e){var t=function(e){var t=Math.pow(10,Math.floor(Math.log10(e)));return{base10:t,units10:Math.floor(e/t)}}(this.viewportHeight),i=t.base10,s=t.units10;this.viewportHeight=C(i*s+(e.deltaY<0&&1===s?-i/10:Math.sign(e.deltaY)*i),1,this.viewportDimensionLimit)}}},Y={large:{width:4,height:12},small:{width:3,height:8}};function z(){var e=this.$refs.canvas,t=e.getContext("2d");t.fillStyle="white",t.clearRect(0,0,e.width,e.height),t.save(),t.fillStyle="black",t.font=Y.large.height+"px 'Open Sans'",t.fillRect(this.viewportRatio*this.viewportOffsetX-Y.large.width/2,0,Y.large.width,Y.large.height),t.textAlign="center",t.textBaseline="top",t.fillText("0",this.viewportRatio*this.viewportOffsetX,Y.large.height+1),t.fillRect(0,this.viewportRatio*this.viewportOffsetY-Y.large.width/2,Y.large.height,Y.large.width),t.textAlign="left",t.textBaseline="middle",t.fillText("0",Y.large.height+1,this.viewportRatio*this.viewportOffsetY),t.scale(this.viewportRatio,this.viewportRatio),t.translate(this.viewportOffsetX,this.viewportOffsetY),t.fillStyle="blue",t.strokeStyle="red",t.miterLimit=this.viewportHeight,t.lineWidth=Math.max(this.lineWidth,Number.MIN_VALUE),t.lineCap=this.lineCap,t.lineJoin=this.lineJoin,t.globalAlpha=.5,t.strokeRect(-10,-5,20,10),t.fillRect(-10,-5,20,10),t.restore()}var D=R,X=(i(54),{props:["cursor"],data:function(){return{version:document.querySelector("html > head > meta[name='version']").content,date:(new Date).toLocaleString()}}}),A={components:{"ssb-toolbar":k,"ssb-canvas":Object($.a)(D,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("canvas",{ref:"canvas",on:{pointerenter:e.emitCursor,pointermove:function(t){e.emitCursor(t),e.updateDrag(t)},pointerleave:function(t){e.emitCursor(t),e.endDrag()},pointerdown:e.startDrag,pointerup:e.endDrag,wheel:e.zoomView}},[i("code",[e._v("Your browser has to support canvas for this application content!")])])}),[],!1,null,"eb5ef9cc",null).exports,"ssb-statusbar":Object($.a)(X,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",{staticClass:"p-0",attrs:{fluid:""}},[i("b-row",{attrs:{"no-gutters":""}},[i("b-col",[i("b-icon",{attrs:{icon:"cursor-fill"}}),e._v(" "+e._s(e.cursor?e.cursor.x+" / "+e.cursor.y:"")+"\n\t\t")],1),e._v(" "),i("b-col",{attrs:{cols:"12",sm:"auto"}},[i("b",[i("b-icon",{attrs:{icon:"exclamation-circle"}}),e._v(" v"+e._s(e.version))],1),e._v(" "+e._s(e.$t("loaded_at"))+" "),i("i",[e._v(e._s(e.date))])])],1)],1)}),[],!1,null,null,null).exports},data:function(){return{canvasCursor:null}}},S=Object($.a)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vh-100 d-flex flex-column"},[i("header",{staticClass:"text-white bg-dark"},[i("ssb-toolbar")],1),e._v(" "),i("main",{staticClass:"flex-fill overflow-hidden"},[i("ssb-canvas",{on:{cursor:function(t){e.canvasCursor=t}}})],1),e._v(" "),i("footer",{staticClass:"text-white bg-dark"},[i("ssb-statusbar",{attrs:{cursor:e.canvasCursor}})],1)])}),[],!1,null,null,null).exports;new s.a({el:"#app",render:function(e){return e(S)},store:g,i18n:x});r.install({onUpdateReady:function(){return r.applyUpdate()},onUpdated:function(){return window.location.reload()}})}},[[56,1,2]]]);